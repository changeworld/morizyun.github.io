<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Analyze | 酒と泪とRubyとRailsと]]></title>
  <link href="http://morizyun.github.io/blog/categories/analyze/atom.xml" rel="self"/>
  <link href="http://morizyun.github.io/"/>
  <updated>2015-07-05T18:40:53+09:00</updated>
  <id>http://morizyun.github.io/</id>
  <author>
    <name><![CDATA[morizyun]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[【書評: 入門統計学 検定から多量変数解析・実験計画法まで】基礎固めに最適！]]></title>
    <link href="http://morizyun.github.io/blog/nyumon-toukeigaku-kurihara-shinichi-book-review/"/>
    <updated>2014-03-31T13:40:00+09:00</updated>
    <id>http://morizyun.github.io/blog/nyumon-toukeigaku-kurihara-shinichi-book-review</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4274068552/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4274068552&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4274068552&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4274068552" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />『<strong><a href="/blog/statistics-understand-first-book-review/">統計学がわかる</a></strong>』を読んで基礎の中の基礎が少しずつわかってきたので、ステップアップを目指して『<strong><a href="http://www.amazon.co.jp/gp/product/4274068552/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4274068552&amp;linkCode=as2&amp;tag=morizyun00-22">入門統計学 検定から多量変数解析・実験計画法まで</a></strong>』を読み始めました。この本は、推測統計についてわかりやすく、実践的に解説しているテキストです。数式の説明もかなり丁寧に書かれており、統計学の理解を深めるための工夫が随所に凝らされています。</p>

<p>今回はこの本の中で、特に勉強になった部分を中心にメモを書いておきます。</p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>1章: データ整理(記述的統計学)</h2>

<p>記述的統計学とは、実験や調査で集めたデータの特性を明らかにするために平均やばらつき、分布などをもとめて整理する学問。</p>

<h3>キーワード</h3>

<pre>
# 量的データ
* 比率データ(比率尺度) : +-*/ : 質量、長さ、年齢、時間、金額
* 間隔データ(間隔尺度) : +-   : 温度(摂氏)、知能指数

# 質的データ
* 順位データ(順序尺度) : >= : 満足度、選好度、硬度
* カテゴリデータ(名義尺度) : 度数カウント : 電話番号、性別、血液型

# 連続変量
=> 重さや長さなどもともと区別されていないデータ

# 離散変量
=> 疾病件数や農家戸数などはじめから区別されているデータ

# 変動係数
=> 標準偏差/平均。英語ではCoefficeient of Variation。ばらつきの相対比較に使える

# 相関係数
=> キュウリは長いほど重い。つまり、「重さ」と「長さ」には正の相関関係がある。相関係数は -1 < r < 1。-1に近づくほど負の相関関係があり、0は相関関係なし、1に近づくほど正の相関関係がある。
</pre>


<h3>例題・章末問題をやってみた</h3>

<p>{% codeblock lang:bash %}</p>

<h2>例題1-2</h2>

<p>parent_height &lt;- c(185.0,169.1,166.2,160.1,166.6,172.1,180.5,169.1,170.9,160.0,168.2,175.5)
child_height  &lt;- c(183.0,167.4,171.0,164.2,173.9,177.0,179.3,172.0,170.6,166.3,170.0,173.0)</p>

<p>sums = 0.0
for (i in 1:12) {
  sums = sums + (parent_height[i] - mean(parent_height))*(child_height[i] - mean(child_height))
}
sums/(sqrt(sum((parent_height - mean(parent_height))<sup>2))*sqrt(sum((child_height</sup> - mean(child_height))<sup>2)))</sup></p>

<h1>=> 0.8958307</h1>

<h2>章末</h2>

<h1>問1: データの測定尺度</h1>

<p>a) 植物の成長速度 => 間隔データ
b) 植物の病気の有無 => 名義尺度
c) 絶対温度(熱力学温度) => 比率尺度
d) 農家のやりがい、アンケートでの5段階評価 => 順序尺度
e) カレンダーの日付 => 間隔尺度</p>

<h1>問2</h1>

<h1>a) 度数分布表、ヒストグラム</h1>

<p>sales &lt;- c(400,15,480,993,600,150,115,50,0,130,3000,500,200,55,2200,1,900,1000,450,400)
area  &lt;- c(60,30,365,190,136,15,37,100,170,70,783,560,50,35,595,200,300,356,155,250)
table(area)</p>

<h1>area</h1>

<h1>15  30  35  37  50  60  70 100 136 155 170 190 200 250 300 356 365 560 595 783</h1>

<h1>1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</h1>

<p>hist(area)
{% endcodeblock %}</p>

<p><img src="https://farm4.staticflickr.com/3815/13529553134_779304c5d6.jpg" width="500" height="359" alt="Rplot"></p>

<p>{% codeblock lang:bash %}</p>

<h1>b) 平均、分散、標準偏差、変動係数</h1>

<p>mean(sales) #=> 581.95
var(sales)  #=> 596000.5
sd(sales)   #=> 772.0107
sd(sales)/mean(sales) #=> 1.326593</p>

<p>mean(area) #=> 222.85
var(area)  #=> 45903.82
sd(area)   #=> 214.2518
sd(area)/mean(area) #=> 0.9614169</p>

<h1>c) 相関係数</h1>

<p>cor(sales, area, method="pearson") #=> 0.840888</p>

<h1>こんな方法もある</h1>

<h1>cor(sales, area, method="spearman")</h1>

<h1>cor(sales, area, method="kendall")</h1>

<h1>問3</h1>

<p>data1 &lt;- c(2, 4, 5, 7)
data2 &lt;- c(2, 4, 5, 70)</p>

<h1>算術平均</h1>

<p>mean(data1) #=> 4.5
mean(data2) #=> 20.25</p>

<h1>幾何平均</h1>

<p>source("http://aoki2.si.gunma-u.ac.jp/R/src/univariate.R", encoding="euc-jp")
geomean(data1) #=> 4.090623
geomean(data2) #=> 7.274272</p>

<h1>比較</h1>

<p>mean(data1) > geomean(data1)
mean(data2) > geomean(data2)</p>

<h1>=> 突出して大きな値があっても幾何平均は大きな影響を受けない</h1>

<p>{% endcodeblock %}</p>

<h3>Speical Thanks</h3>

<p><strong><a href="http://aoki2.si.gunma-u.ac.jp/R/univariate.html">R -- Excel にある一変量統計関数</a></strong></p>

<h2>2章: 確率分布</h2>

<p>確率分布とは、確率変数のそれぞれの値、その発生確率との対応を示したもの。代表的なものとしては、一様分布や正規分布、カイ二乗分布などがある。</p>

<h3>キーワード</h3>

<pre>
# 確率分布
## 離散型
* 一様分布: 発生確率が一定の事象の分布(サイコロの目など)
* 二項分布: n回のベルヌーイ試行の成功回数xの分布
(同時に複数個のサイコロを投げる、複数個の製品に含まれる不良品数など)
* ポアソン分布: 稀にしか起こらない事象の発生回数の分布
(1日に受け取る電子メールの件数)

## 連続型
* 正規分布: 試行回数nが大きいときの二項分布の近似分布(身長、体重などの自然現象)
* 標準正規分布: 標準化(平均0, 分散1)した分布。z分布と同義。
* 対数正規分布: 変数xの対数が正規分布となる
* t分布: 母分散の代わりに不偏分散を使った分布
* カイ二乗分布: 自由度(標本数)に応じて決まる分布
* F分布: 2つの母集団から持ってきたカイ二乗、もしくは不偏分散の比による分布
</pre>




<pre>
ベルヌーイ試行: AかBのどちらかしか起こらないような事象(コインの表裏など)
不偏分散: 標本から算出する母分散の推定量
</pre>


<h3>例題・章末問題をやってみた</h3>

<p>{% codeblock lang:bash %}</p>

<h1>例題: 標準化</h1>

<p>saibai_a &lt;- c(3063, 2275, 2089, 2855, 2836, 3219, 2817, 2136, 2540, 2263, 2140, 1757, 2499, 2093, 2073)
saibai_b &lt;- c(3157, 2707, 3270, 3181, 3633, 3404, 2219, 2730, 3408, 3203, 2938, 3286, 2920, 3332, 3478)</p>

<h1>標準化</h1>

<p>sai_a_sca &lt;- scale(saibai_a)[,]</p>

<h1>平均(小数点下3桁で四捨五入)</h1>

<p>round(mean(sai_a_sca), digits=3)</p>

<h1>=> 0</h1>

<h1>分散</h1>

<p>var(sai_a_sca)</p>

<h1>=>  1</h1>

<h1>標準偏差</h1>

<p>sd(sai_a_sca)</p>

<h1>=> 1</h1>

<h1>標準化</h1>

<p>sai_b_sca &lt;- scale(saibai_b)[,]</p>

<h1>平均(小数点下3桁で四捨五入)</h1>

<p>round(mean(sai_b_sca), digits=3)</p>

<h1>=> 0</h1>

<h1>分散</h1>

<p>var(sai_b_sca)</p>

<h1>=> 1</h1>

<h1>標準偏差</h1>

<p>sd(sai_b_sca)</p>

<h1>=> 1</h1>

<h1>大切なこと => 標準化すると平均0、分散1の標準正規分布になる</h1>

<p>{% endcodeblock %}</p>

<p>{% codeblock lang:bash %}</p>

<h1>例題: ポアソン分布</h1>

<h2>3日間でマグニチュード7以上の地震が発生する確率</h2>

<h2>日本でマグニチュード7の地震は過去五年で7回発生している</h2>

<h2>式 => 日数 * ((7.0/5.0) / 365)</h2>

<p>r <- 3 * ((7.0/5.0) / 365) #=> 0.00115
(exp(1)<sup>r*r)/1</sup> #=> 0.01164002 = 1.164%の確率で地震が発生する</p>

<h1>章末問題</h1>

<h1>1) 標準化</h1>

<p>sales <- c(400,15,480,993,600,150,115,50,0,130,3000,500,200,55,2200,1,900,1000,450,400)
sale_sca <- scale(sales)[,] #=> 標準化
round(mean(sale_sca), digits=4) #=> 平均: 0
var(sale_sca) #=> 分散: 1</p>

<p>area  <- c(60,30,365,190,136,15,37,100,170,70,783,560,50,35,595,200,300,356,155,250)
area_sca <- scale(area)[,] #=> 標準化
round(mean(area_sca), digits=4) #=> 平均: 0
var(area_sca) #=> 分散: 1</p>

<h1>2) 歪度・尖度</h1>

<h1>歪度</h1>

<p>mean((sales-mean(sales))<sup>3)/(sd(sales)<sup>3)</sup></sup> #=> 1.883264</p>

<h1>尖度</h1>

<p>mean((sales-mean(sales))<sup>4)/(sd(sales)<sup>4)</sup></sup> #=> 5.876389</p>

<h1>歪度</h1>

<p>mean((area-mean(area))<sup>3)/(sd(area)<sup>3)</sup></sup> #=> 1.149286</p>

<h1>尖度</h1>

<p>mean((area-mean(area))<sup>4)/(sd(area)<sup>4)</sup></sup> #=> 3.309088</p>

<h1>3) 標準化・偏差値</h1>

<p>(80 - 60)/10 #=>2</p>

<p>10*(80-60)/10 + 50 #=> 70</p>

<h1>4) パーセンテージ</h1>

<p>(1/sqrt(2<em>3.14))</em>exp(1)<sup>(-2)</sup></p>

<h1>5) ポワソン分布</h1>

<p>食中毒 <- 20204/(127370000*365) #=> 4.345876e-07
食中毒 * 484600 #=> 0.2106012
x <- 0 #=> 0回発生</p>

<p>(exp(1)<sup>(-0.21)*0.21<sup>x)/1</sup></sup> #=> 0.8105842</p>

<h1>=> 松江市で食中毒一件も発生しない確率は約81%</h1>

<p>{% endcodeblock %}</p>

<h2>Rの使い方メモ</h2>

<p>{% codeblock lang:bash %}
exp(1) #=> 自然対数の底 2.718...
round(num, digits=n) #=> 四捨五入
{% endcodeblock %}</p>

<h2>第3章 不偏推定量と標本分布(推測統計学)</h2>

<p>推測統計学とは、実験や調査で測定したデータを使ってその背景にある母集団の特徴を推定する学問。平均やバラツキに関する区間推定や差の検定などがある。</p>

<h3>キーワード</h3>

<pre>
母集団 => 英語ではpopulationとuniverseがある
population => 標本の背景にあって対象となる要素の集合体(一般的な母集団)
universe => 要素を含む対象自体の集合、関連する情報が付随している

標本のばらつき(標本分散、標本標準偏差) =< 母集団のばらつき(母分散、母標準偏差)
不偏推定量　　<= 母集団の統計量を推定した値
不偏分散　　　<= 母集団の分散の推定量
不偏標準偏差　<= 母集団の標準偏差の推定量
標本誤差分散　<= 複数標本間の誤差の分散
</pre>


<h3>例題・章末問題</h3>

<p>{% codeblock lang:bash %}</p>

<h1>例題: 不偏分散誤差</h1>

<h2>栽培法A</h2>

<h3>標本標準偏差を使う場合</h3>

<p>標本標準偏差 <- 413.5
標本数 <- 15
標本標準偏差/sqrt(標本数 -1) #=> 110.5</p>

<h3>不偏標準偏差を使う場合</h3>

<p>不偏標準偏差 <- 428.1
不偏標準偏差/sqrt(標本数) #=> 110.5</p>

<h2>栽培法B</h2>

<h3>標本標準偏差を使う場合</h3>

<p>標本標準偏差 <- 353.0
標本数 <- 15
標本標準偏差/sqrt(標本数 -1) #=> 94.3</p>

<h3>不偏標準偏差を使う場合</h3>

<p>不偏標準偏差 <- 365.4
不偏標準偏差/sqrt(標本数) #=> 94.3</p>

<h1>章末問題</h1>

<h1>問1)</h1>

<h1>母集団 : 新入生1万人(試験結果)</h1>

<h1>標本 : 無作為に抽出した500人</h1>

<h1>ユニバース : 新入生1万人(対象の人間そのもの)</h1>

<h1>標本数 : 1(標本サイズは500)</h1>

<h1>問2)</h1>

<h1>標本分散 =&lt; 母分散となる</h1>

<h1>問3) 標準偏差と標準誤差の違い</h1>

<h1>標準偏差 : 個々のデータからなる集団のバラ付き具合を示す統計量</h1>

<h1>標準誤差 : 標本平均のバラつき具合を示す。不偏統計量の精度を示す指標。</h1>

<h1>問4) 統計量の自由度</h1>

<h1>標本から相関計測を推定する場合、統計量の自由度は「標本サイズ - 2」となる</h1>

<h1>(相関係数の場合は変数が2つになるので)</h1>

<p>{% endcodeblock %}</p>

<h2>4章 : 信頼区間の推定</h2>

<p>真の平均や分散が、どのような範囲にあるかを推定し、それを確率的に示すこと。</p>

<h3>例題・章末問題</h3>

<p>{% codeblock lang:bash %}</p>

<h1>例題: 正規分布による95%信頼区間</h1>

<p>標本数 &lt;- 16
平均   &lt;- 10.0
母分散 &lt;- 36.0</p>

<p>平均 - 1.96<em>sqrt(母分散/標本数) #=> 7.06
平均 + 1.96</em>sqrt(母分散/標本数) #=> 12.94</p>

<h1>例題: 正規分布による90%信頼区間</h1>

<p>月平均の減少値 &lt;-165.0
標本サイズ     &lt;- 66
標本標準偏差   &lt;- 680.6</p>

<p>月平均の減少値 - 1.65<em>標本標準偏差/sqrt(標本サイズ) #=> 26.76949
月平均の減少値 + 1.65</em>標本標準偏差/sqrt(標本サイズ) #=> 303.2305</p>

<h1>例題: t分布による95%信頼区間</h1>

<p>標本数 &lt;- 5
平均乳量 &lt;- 22.1
標本芳醇偏差 &lt;- 6.5</p>

<p>22.1 - 2.776<em>6.5/sqrt(標本数 -1) #=> 17.44106
22.1 + 2.776</em>6.5/sqrt(標本数 -1) #=> 26.75894</p>

<h1>例題: 母比率の信頼区間の推定</h1>

<p>0.7 - 1.96<em>sqrt(0.7</em>(1.0-0.7)/50) #=> 0.5729775
0.7 + 1.96<em>sqrt(0.7</em>(1.0-0.7)/50) #=> 0.8270225</p>

<h1>=> 下限の信頼限界が50%を超えているので、当確を出しても良い</h1>

<h1>例題: 標本サイズの決め方</h1>

<p>1.96 * sqrt(0.5*0.5/n) = 0.1</p>

<h1>上の式を満たすnは次の式から求められる</h1>

<p>n <- ((1.96 * sqrt(0.5*0.5))/0.1)^2 #=> 96.04</p>

<h2>章末</h2>

<h1>問1) 標準偏差を使った95%信頼区間</h1>

<p>標本サイズ &lt;- 100
標本平均   &lt;- 2.0
標本分散   &lt;- 1.0</p>

<p>標本平均 - 1.96 * sqrt(標本分散/標本サイズ) #=> 1.804
標本平均 + 1.96 * sqrt(標本分散/標本サイズ) #=> 2.196</p>

<h1>問2) t分布を使った95%信頼区間</h1>

<p>sales &lt;- c(400,15,480,993,600,150,115,50,0,130,3000,500,200,55,2200,1,900,1000,450,400)
標本サイズ &lt;- length(sales)
標本平均   &lt;- mean(sales)
標本分散   &lt;- var(sales)</p>

<p>標本平均 - 2.093 * sqrt(標本分散/(標本サイズ-1)) #=> 211.2559
標本平均 + 2.093 * sqrt(標本分散/(標本サイズ-1)) #=> 952.6441</p>

<h1>問3) AgrestiとCoullの式を使った母比率の信頼区間</h1>

<p>標本サイズ &lt;- 20
比率 &lt;- 16/20</p>

<p>p <- (16+2)/(標本サイズ+4)
p - 1.96*sqrt(p*(1-p)/(標本サイズ+4)) #=> 0.5767588
p + 1.96<em>sqrt(p</em>(1-p)/(標本サイズ+4)) #=> 0.9232412</p>

<h1>問4) 標本サイズの決め方</h1>

<p>1.96<em>sqrt((0.5</em>0.5)/n) = 0.01
n <- ((1.96/0.01)*sqrt(0.5*0.5))^2 #=> 9604
n*5 #=> 48020
{% endcodeblock %}</p>

<h2>5章: カイ二乗分布とF分布</h2>

<p>カイ二乗分布は標準変化量zを2情和したカイ二乗値が従う確率分布で、母分散の信頼区間の推定やクロス集計表の検定に用いる。F分布は独立した2つのカイ二乗値の比であるF値が従う確率分布で、等分散性の検定や分散分析などに用いる。</p>

<h3>例題・章末問題をやってみた</h3>

<p>{% codeblock lang:bash %}</p>

<h1>例題 : 信頼区間95%の母分散</h1>

<p>tento &lt;- c(5, 8, 10, 11, 15)
size &lt;- length(tento)
var &lt;- var(tento)</p>

<p>((size - 1)<em>var)/11.143 #=> 4.917886
((size - 1)</em>var)/0.484  #=> 113.2231</p>

<h1>章末問題</h1>

<h1>問1) カイ二乗値とは？</h1>

<h1>=> 標準変化量zを2乗和(すべての標準変化量を2乗して足し合わせた値)した値</h1>

<h1>問2) 母平均が未知の場合のカイ二乗値</h1>

<h1>=> 未知の場合には、不偏統計量と同様に自由度は減少する</h1>

<h1>=> 具体的には、自由度 &lt;- n(標本サイズ) - 1</h1>

<h1>問3) 母標準偏差に対する90%信頼区間</h1>

<p>size &lt;- 10
不偏標準偏差 &lt;- 0.05
不偏分散 &lt;- 25</p>

<p>sqrt(((size-1)<em>不偏分散)/16.919) #=> 3.646733
sqrt(((size-1)</em>不偏分散)/3.325)  #=> 8.226127</p>

<h1>問4) t値とF値の関係</h1>

<h1>=> 自由度がvのt値の2乗と、分母の自由度がvで分子の自由度が1のF値は等しい</h1>

<h1>=> 2つの平均値の差はt検定(両側検定)でも、F検定を基礎とした2群の分散分析でも同じ結論となる</h1>

<p>{% endcodeblock %}</p>

<h2>6章 : 検定の基礎</h2>

<p>仮説検定とは、実験結果の「起きやすさ」から「めったに起きないことが起きた」とかんがえられる場合は、その仮説を間違いであると判断する手法。</p>

<h3>検定の手順</h3>

<pre>
1) 仮説の設定
2) 検定統計量の計算
3) 確率の計算
4) 仮説の判断
</pre>


<h3>キーワード</h3>

<pre>
第一種の誤り(Type I error) : 帰無仮説が正しいにもかかわらず棄却してしまうこと
第二種の誤り(Type II error) : 帰無仮説が間違っているにもかかわらず許容すること
危険率 : 第一種の誤りを犯す確率
検定力 : 帰無仮説が間違っている時に正しく棄却できる確率(第二種の誤りを防ぐ)
</pre>


<h3>例題をやってみた</h3>

<p>{% codeblock lang:bash %}</p>

<h1>例題 : テントウが新種か否かの検定</h1>

<p>ave &lt;- 11
既存種の平均 &lt;- 5
誤差 &lt;- 2</p>

<h1>=> 帰無仮説 : 新種ではない</h1>

<h1>=> 対立仮説 : 新種である</h1>

<p>既存種の平均 - 1.96<em>誤差 #=> 1.08mm
既存種の平均 + 1.96</em>誤差 #=> 8.92mm</p>

<h1>=> よって11mmは8.92mmより大きいので帰無仮説が棄却</h1>

<h1>=> 新種であると考えたほうが妥当</h1>

<p>{% endcodeblock %}</p>

<p>{% include custom/google_ads_yoko_naga.html %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[【書評: 統計学がわかる】統計学初心者が統計学の面白さに触れられます！]]></title>
    <link href="http://morizyun.github.io/blog/statistics-understand-first-book-review/"/>
    <updated>2014-03-23T09:45:00+09:00</updated>
    <id>http://morizyun.github.io/blog/statistics-understand-first-book-review</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4774131903/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4774131903&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4774131903&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4774131903" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />早速統計学に挫折したのでorz、『<strong><a href="http://www.amazon.co.jp/gp/product/4774131903/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4774131903&amp;linkCode=as2&amp;tag=morizyun00-22">統計学がわかる</a></strong>』を読みました。この本はハンバーガーショプの店長と店員が、統計学を用いてライバル店との比較などを行うストーリーで構成されています。平均や分散、信頼区間、検定などの基本的な考え方をシンプルに理解することができるので、統計学の初学者の方にすごくおすすめな本です！</p>

<p>今回はこの本の中で、特に勉強になった部分を中心にメモを書いておきます。</p>

<p><strong>(03/22 09:45) 確認テストを中心に書き直し</strong></p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>[無料Web教材] ハンバーガー統計学にようこそ！</h2>

<p><a href="http://kogolab.chillout.jp/elearn/hamburger/"><img title="ハンバーガー統計学にようこそ！" src="http://capture.heartrails.com/400x300/cool/1393275330517?http://kogolab.chillout.jp/elearn/hamburger/" alt="http://kogolab.chillout.jp/elearn/hamburger/" width="400" height="300" /></a></p>

<p>この本の内容は『<strong><a href="http://kogolab.chillout.jp/elearn/hamburger/">ハンバーガー統計学にようこそ！</a></strong>』に無料で公開されています。もしご興味があればぜひご覧になってみてください。</p>

<h2>第2章: 母集団・標本・区間推定・信頼区間・t分布</h2>

<p>母集団が大きい場合にサンプリングして、母集団を推定する。</p>

<h3>キーワード</h3>

<pre>
母平均 => 標本の平均で推定できる
母分散 => 標本の不偏分散で推定できる
不偏分散 => ((データ - 平均値)**2)の総和 / (サンプルサイズ - 1)
95%信頼区間 => 母平均が95%の確率で含まれているような範囲
信頼区間 => 標本平均 +- t * 標準誤差
標本平均の標準偏差 => sqrt(不偏分散 / サンプルサイズ)
t分布 => 正規表現に似た「つりがね型」の分布。サンプルサイズが少ないと平、多いと正規分布に近づく
自由度 => サンプルサイズから1を引いたもの
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}</p>

<h1>1) 統計用語</h1>

<p>a. 母集団
b. 標本集団
c. 無作為抽出
d. 正規分布</p>

<h1>2) 信頼区間の計算</h1>

<p>ave &lt;- 65
var &lt;- 60
標準誤差 &lt;- sqrt(var/500)</p>

<h1>95%信頼区間</h1>

<p>ave - 1.96<em>標準誤差 #=> 64.32104
ave + 1.96</em>標準誤差 #=> 65.67896</p>

<h1>99%信頼区間</h1>

<p>ave - 2.576<em>標準誤差 #=> 64.10765
ave + 2.576</em>標準誤差 #=> 65.89235</p>

<h1>3) 信頼区間の意味</h1>

<h1>95%の確率で64.32104点-65.67896点におさまる</h1>

<h1>99%の確率で64.10765点-65.89235点におさまる</h1>

<p>{% endcodeblock %}</p>

<h2>第3章: 帰無仮説・対立仮説・観測度数・期待度数・カイ二乗分布</h2>

<p>仮説を建ててその有効性を検証するための方法。</p>

<h3>キーワード</h3>

<pre>
帰無仮説 => 『○◯と◯◯との間には差がない』という仮説
対立仮説 => 帰無仮説が棄却されたときに採択される『差はないとは言えない、つまり差はある』
観測度数 => 『実際の売上』のような実際に観測された度数
期待度数 => 『同じ割合で売れるとした場合の売上』のように予測される度数
カイ(χ)2乗値 => 期待度数と観測度数のズレを表す値
カイ(χ)2乗値の自由度 => 変数のうち自由に選べるものの数
</pre>


<h3>仮説検定の方法</h3>

<pre>
1) 『○◯と◯◯との間には差がない』という形の帰無仮説をたてる
2) 期待度数と観測度数のズレを見るためカイ(χ)2乗値を計算する
3) カイ(χ)2乗値の出現確率を調べる
4) 有意水準を基準にして帰無仮説を棄却するか、あるいは採択するかを決める
</pre>


<h2>カイ(χ)2乗分布の性質</h2>

<pre>
期待度数と観測度数が完全に一致すれば、カイ(χ)2乗値はゼロになる
逆に、不一致(ズレ)が大きくなれば、カイ(χ)2乗値は大きな値となる
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}</p>

<h1>1)</h1>

<h1>=> 帰無仮説 担任の違いが子供の好き嫌いに影響を与えない</h1>

<h1>2)</h1>

<h1>=> 対立仮説 担任の違いが子供の好き嫌いに影響を与える</h1>

<h1>3) 期待度数</h1>

<p>kokugo_sakura <- 42 * 32/68 #=> 19.76471
kokugo_momo   <- 42 * 36/68 #=> 22.23529
math_sakura   <- 26 * 32/68 #=> 12.23529
math_momo     <- 26 * 36/68 #=> 13.76471</p>

<h1>4) カイ二乗値</h1>

<p>(24-kokugo_sakura)<sup>2/kokugo_sakura</sup> + (18-kokugo_momo)<sup>2/kokugo_momo</sup> + (8 - math_sakura)<sup>2/math_sakura</sup> + (18 - math_momo)<sup>2/math_momo</sup></p>

<h1>=> 4.483516</h1>

<h1>5)</h1>

<h1>自由度(2-1)の有意水準1%のカイ2乗値 => 6.63</h1>

<h1>=> 4.48 &lt; 6.63なので帰無仮説は採択</h1>

<h1>6)</h1>

<h1>=> 以上の結果より、担任の違いは子供の好き嫌いに有意な影響を与えない</h1>

<p>{% endcodeblock %}</p>

<h2>第4章: t検定(対応なし)</h2>

<p>t検定とは、帰無仮説が正しいと仮定した場合に、統計量がt分布に従うことを利用して統計的な検定をする方法。ただし、t検定は2つの標本間の平均の差を調べる</p>

<h3>キーワード</h3>

<pre>
有意水準 => 偶然などではなくその要因が結果に違いを生み出したということ(1% or 5%をよく使う)
t分布における自由度 => サンプルサイズA + サンプルサイズB - 2
棄却域 => 統計的仮説を検定する場合に判断の基準となる領域
</pre>


<h2>数式</h2>

<pre>
平均偏差の平方和 => (データ - 平均値)**2の総和
推定母分散 => (標本Aの平均偏差の平方和+標本Bの平均偏差の平方和)/(サンプルサイズA +サンプルサイズB - 2)
t値 => 標本平均の差/sqrt(推定母分散*(1/サンプルサイズA + 1/サンプルサイズB))
</pre>


<h3>t検定の手続き</h3>

<pre>
1) 帰無仮説を建てる => 『○◯と◯◯との間には差がない』
2) 帰無仮説の否定である、対立仮説を建てる => 『○◯と◯◯との間には差がある』
3) 有意水準を決める
4) 得られた標本を使って、指標tを計算する
5) 標本の数から自由度を計算する
6) t分布表の該当する自由度のところを見て、求めたtが棄却域にはいっているかを判定し、帰無仮説を棄却するか、採択するかを決める
7) 帰無仮説を採択するか、対立仮説を採択するかを決める
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}</p>

<h1>1) 帰無仮説</h1>

<h1>=> 漫画を使う方法と使わない従来の方法に差はない</h1>

<h1>2) 対立仮説</h1>

<h1>=> 漫画を使う方法と使わない従来の方法には差はがある</h1>

<h1>3) t値</h1>

<p>sakura &lt;- c(7,8,10,5,8,7,9,5,6,9,10,6,7,8,7,9,10,6)
momo &lt;- c(9,9,6,10,9,8,10,7,9,10,6,8,9,9,10,7,8,8,10,9)
t.test(sakura, momo)</p>

<h1>Welch Two Sample t-test</h1>

<h1></h1>

<h1>data:  sakura and momo</h1>

<h1>t = -1.9464, df = 31.95, p-value = 0.06045</h1>

<h1>alternative hypothesis: true difference in means is not equal to 0</h1>

<h1>95 percent confidence interval:</h1>

<h1>-1.92150701  0.04372923</h1>

<h1>sample estimates:</h1>

<h1>mean of x mean of y</h1>

<h1>7.611111  8.550000</h1>

<h1>=> t値は-1.94</h1>

<h1>4) 有意水準1%</h1>

<h1>=> 1%の有意水準は2.704。t値の絶対値1.94よりも大きいので優位な差は存在しない</h1>

<h1>5) 結果の説明</h1>

<h1>=> 漫画を使う方法と使わない従来の方法には優位な差がある</h1>

<p>{% endcodeblock %}</p>

<h2>第5章: t検定(対応あり)</h2>

<h3>t検定における「対応」とは？</h3>

<p>2つのハンバーガーを食べ比べるなどのように直接比較ができるような標本の場合、「<strong>対応がある</strong>」とします。いいかえると、2つのハンバーガーを食べた母集団「<strong>1つ</strong>」を元に検定します。</p>

<h3>数式</h3>

<pre>
t => 差の平均/sqrt(不偏分散/サンプルサイズ)
or
t => 差の平均/sqrt(標本分散/(サンプルサイズ - 1))
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}</p>

<h1>1)</h1>

<h1>帰無仮説 => 漫画を使った新手法と従来の手法の間に差はない</h1>

<h1>2)</h1>

<h1>対立仮説 => 漫画を使った新手法と従来の手法の間に差はある</h1>

<h1>3)</h1>

<p>before &lt;- c(9,8,10,7,5,9,10,10,8,10,10,6,8,9,10,9,10,9)
after  &lt;- c(9,9,10,7,6,10,10,9,8,10,7,8,10,10,10,10,10,10)
t.test(before,after, paired=TRUE)</p>

<h1>Paired t-test</h1>

<h1></h1>

<h1>data:  before and after</h1>

<h1>t = -1.2432, df = 17, p-value = 0.2307</h1>

<h1>alternative hypothesis: true difference in means is not equal to 0</h1>

<h1>95 percent confidence interval:</h1>

<h1>-0.8990450  0.2323783</h1>

<h1>sample estimates:</h1>

<h1>mean of the differences</h1>

<h1>-0.3333333</h1>

<h1>=> t値は-1.2432</h1>

<h1>4) 有意水準1%</h1>

<h1>=> 有意水準1%は2.898。t値の絶対値よりも大きいので優位な差は存在しない</h1>

<h1>5)</h1>

<h1>漫画を使った従来の手法と今回の手法の間には優位な差がない</h1>

<p>{% endcodeblock %}</p>

<h2>第6章: 分散分析(1要因)</h2>

<p>分散分析(ANOVA)は、観測データにおける変動を誤差変動と各要因およびそれらの交互作用による変動に分解することによって、要因および交互作用の効果を判定する、統計的仮説検定の一手法。1要因の分散分析を一元配置分散分析ともいうそうです。</p>

<h3>キーワード</h3>

<pre>
分散分析とは、全体の平均が各群(各標本集団)がどれほどずれているかを分析すること
</pre>


<h3>分散分析(1要因)の手続き</h3>

<pre>
1) 帰無仮説を建てる => 『3つ以上の標本集団の間には差がない』
2) 帰無仮説の否定である、対立仮説を建てる => 『3つ以上の標本集団の間には差がある』
3) 有意水準を決める
4) 得られた標本を使って、全体の平方和、群間の平方和、郡内の平方和を計算する
5) 分散分析表を作り、自由度、平均平方を計算する
6) 指標F = 群間の平均平方/ 郡内の平均平方 を計算する
7) F分布表の該当する自由度からFが棄却域に入っているかを判定し、帰無仮説を棄却するかを決める
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}
touseigun &lt;- c(6,5,7,6,8,4,6,5,8,4,5,6,5,4,5)
kyumanga  &lt;- c(5,6,9,7,7,6,8,5,6,9,5,4,7,6)
shinmanga &lt;- c(6,8,9,6,8,6,9,7,6,5,9,6,10,8,9,6)</p>

<h1>1) 3つの群の分散と分析</h1>

<h2>統制群:</h2>

<p>mean(touseigun) #=> 平均: 5.6
sd(touseigun)   #=> 標準偏差: 1.298351</p>

<h2>旧マンガ群:</h2>

<p>mean(kyumanga)  #=> 平均: 6.428571
sd(kyumanga)    #=> 標準偏差: 1.504572</p>

<h2>新マンガ群:</h2>

<p>mean(shinmanga) #=> 平均: 7.375
sd(shinmanga)   #=> 標準偏差: 1.543805</p>

<h1>2) 帰無仮説</h1>

<h1>=> 3つの群の間に優位な差はない</h1>

<h1>3) 対立仮説</h1>

<h1>=> 3つの群のの間には優位な差が存在する</h1>

<h1>4) 分散分析表</h1>

<h1>一元配置分散分析</h1>

<p>score = c(touseigun,kyumanga,shinmanga)
group = c(rep(1,14),rep(2,16),rep(3,15))</p>

<h1>oneway.test関数を使う場合</h1>

<p>oneway.test(score ~ group, var=T)</p>

<h1>One-way analysis of means</h1>

<h1></h1>

<h1>data:  score and group</h1>

<h1>F = 5.9065, num df = 2, denom df = 42, p-value = 0.00549</h1>

<h1>分散分析表</h1>

<p>anova(lm(score ~ group))</p>

<h1>Analysis of Variance Table</h1>

<h1></h1>

<h1>Response: score</h1>

<h1>Df Sum Sq Mean Sq F value   Pr(>F)</h1>

<h1>group      1 24.254 24.2544   11.72 0.001369 **</h1>

<h1>Residuals 43 88.990  2.0695</h1>

<h1>---</h1>

<h1>Signif. codes:  0 ‘<em><strong>’ 0.001 ‘</strong>’ 0.01 ‘</em>’ 0.05 ‘.’ 0.1 ‘ ’ 1</h1>

<h1>aov関数を使う場合</h1>

<p>result &lt;- aov(score ~ group)
summary(result)</p>

<h1>Df Sum Sq Mean Sq F value  Pr(>F)</h1>

<h1>group        1  24.25   24.25   11.72 0.00137 **</h1>

<h1>Residuals   43  88.99    2.07</h1>

<h1>---</h1>

<h1>Signif. codes:  0 ‘<em><strong>’ 0.001 ‘</strong>’ 0.01 ‘</em>’ 0.05 ‘.’ 0.1 ‘ ’ 1</h1>

<h1>5) 有意水準1%</h1>

<h1>=> 群間の自由度2、郡内の自由度が42の自由度の場合、有意水準1%のF値は5.18</h1>

<h1>=> F値は5.9065なので棄却域に入り、帰無仮説は棄却される</h1>

<h1>6) 結論</h1>

<h1>=> 3つの群の間の少なくとも1つに優位な差が存在する</h1>

<p>{% endcodeblock %}</p>

<p>おそらくグループか自由度の指定方法をちょっとミスっていると思うので、正しくはなさそう(帰無仮説の棄却は正しい)。後日知識がついたら再度トライするつもりです。</p>

<h3>Special Thanks</h3>

<p><strong><a href="http://d.hatena.ne.jp/pokepen/20130527/1369618411">Rで1要因の分散分析</a></strong><br/>
ハンバーガー屋さんの例をRで解いています。3つのグループがある場合の比較方法が書かれていて助かりました。</p>

<h2>第7章: 分散分析(2要因)</h2>

<h3>キーワード</h3>

<pre>
残差 => 誤差の推定量。1要因の場合の郡内のズレと同義。
相互作用 => 2つの要因によって起こるズレを相互作用と呼ぶ
</pre>


<h3>分散分析(2要因)の手続き</h3>

<pre>
1) 帰無仮説を建てる => 『要因1, 要因2,交互作用による差はない』
2) 帰無仮説の否定である、対立仮説を建てる => 『要因1 or 要因2 or 交互作用による差がある』
3) 有意水準を決める
4) 得られた標本から全体の平方和、要因1の平方和、要因2の平方和、残差の平方和、全体の平方和を計算
5) 分散分析表を作り、自由度、平均平方を計算する
6) 指標Fを計算する
7) F分布表の該当する自由度からFが棄却域に入っているかを判定し、帰無仮説を棄却するかを決める
</pre>


<h3>確認テスト</h3>

<p>{% codeblock lang:bash %}
suki_touseigun  &lt;- c(7,8,6,8,10,7,8,8,9,7)
kirai_touseigun &lt;- c(4,6,5,4,3,7,5,6,4,5)
suki_manga      &lt;- c(8,9,10,10,8,8,9,7,10,8)
kirai_manga     &lt;- c(8,7,8,6,9,7,8,8,10,8)</p>

<h1>1) 帰無仮説</h1>

<h1>a) 漫画を使った勉強法と統制群の間に平均点の差はない</h1>

<h1>b) 算数の好き嫌いに平均点の差はない</h1>

<h1>c) 相互作用にも平均点の差はない</h1>

<h1>a, b, cをすべて満たす</h1>

<h1>2) 対立仮説</h1>

<h1>=> 上のa,b,cのいづれかに平均点の差がある</h1>

<h1>3) 平均・標準偏差</h1>

<p>ave_suki_touseigun  <- mean(suki_touseigun)  #=> 7.8
sd_suki_touseigun   <- sd(suki_touseigun)    #=> 1.13529
ave_kirai_touseigun <- mean(kirai_touseigun) #=> 4.9
sd_kirai_touseigun  <- sd(kirai_touseigun)   #=> 1.19721
ave_suki_manga      <- mean(suki_manga)      #=> 8.7
sd_suki_manga       <- sd(suki_manga)        #=> 1.05934
ave_kirai_manga     <- mean(kirai_manga)     #=> 7.9
sd_kirai_manga      <- sd(kirai_manga)       #=> 1.10050</p>

<h1>4) グラフ</h1>

<h1>=> 挫折</h1>

<h1>5) 分散分析表</h1>

<h1>マンガ・統制群の平方和</h1>

<p>touseigun <- c(suki_touseigun, kirai_touseigun)
manga <- c(suki_manga, kirai_manga)
ave_tou <- mean(touseigun) #=> 6.35
ave_man <- mean(manga)     #=> 8.3
zen_heikin <- mean(c(touseigun, manga)) #=> 7.325
mantou_heihowa &lt;- (ave_man-zen_heikin)<sup>2*length(manga)</sup> + (ave_tou -zen_heikin)<sup>2*length(touseigun)</sup></p>

<h1>=> 38.025</h1>

<h1>好き嫌いの平方和</h1>

<p>suki <- c(suki_touseigun, suki_manga)
kirai <- c(kirai_touseigun, kirai_manga)
ave_suki <- mean(suki)   #=> 8.25
ave_kirai <- mean(kirai) #=> 6.4
suki_heihouwa &lt;- (ave_suki - zen_heikin)<sup>2*length(suki)</sup> + (ave_kirai - zen_heikin)<sup>2*length(kirai)</sup></p>

<h1>=> 34.225</h1>

<h1>相互作用の平方和</h1>

<p>gunkan_heikin_zure &lt;- (ave_suki_touseigun - zen_heikin)<sup>2*length(suki_touseigun)</sup> + (ave_kirai_touseigun - zen_heikin)<sup>2*length(kirai_touseigun)</sup> + (ave_suki_manga - zen_heikin)<sup>2*length(suki_manga)</sup> + (ave_kirai_manga - zen_heikin)<sup>2*length(kirai_manga)</sup>
sougo_heihouwa &lt;- gunkan_heikin_zure - mantou_heihowa - suki_heihouwa</p>

<h1>=> 11.0249</h1>

<h1>残差の平方和</h1>

<p>zansa_heihouwa &lt;- sum((suki_touseigun - ave_suki_touseigun)<sup>2)</sup> + sum((kirai_touseigun - ave_kirai_touseigun)<sup>2)</sup> + sum((suki_manga - ave_suki_manga)<sup>2)</sup> + sum((kirai_manga - ave_kirai_manga)<sup>2)</sup></p>

<h1>=> 45.5</h1>

<h1>全体の平方和</h1>

<p>zentai_heihouwa &lt;- mantou_heihowa + suki_heihouwa + sougo_heihouwa + zansa_heihouwa</p>

<h1>=> 128.775</h1>

<h1>マンガ・統制群の自由度: 条件数(郡の数) - 1</h1>

<p>mantou_ziyudo &lt;- 1</p>

<h1>好き嫌いの自由度: 条件数(郡の数) - 1</h1>

<p>suki_ziyudo &lt;- 1</p>

<h1>相互作用の自由度</h1>

<p>sougo_ziyudo <- mantou_ziyudo * suki_ziyudo #=> 1</p>

<h1>全体の自由度</h1>

<p>zentai_ziyudo &lt;- length(c(suki_touseigun, kirai_touseigun, suki_manga, kirai_manga)) - 1</p>

<h1>=> 39</h1>

<h1>残差の自由度</h1>

<p>zansa_ziyundo &lt;- zentai_ziyudo - mantou_ziyudo - suki_ziyudo - sougo_ziyudo</p>

<h1>=> 36</h1>

<h1>マンガ・統制群の平均平方</h1>

<p>mantou_hehe &lt;- mantou_heihowa / mantou_ziyudo</p>

<h1>=> 38.025</h1>

<h1>好き嫌いの平均平方</h1>

<p>suki_hehe &lt;- suki_heihouwa  / suki_ziyudo</p>

<h1>=> 34.225</h1>

<h1>相互作用の平均平方</h1>

<p>sougo_hehe &lt;- sougo_heihouwa / sougo_ziyudo</p>

<h1>=> 11.025</h1>

<h1>全体の平均平方</h1>

<p>zansa_hehe &lt;- zansa_heihouwa / zansa_ziyundo</p>

<h1>=> 1.263889</h1>

<h1>マンガ・統制群のF値</h1>

<p>mantou_f &lt;- mantou_hehe / zansa_hehe</p>

<h1>=> 30.08571</h1>

<h1>好き嫌いのF値</h1>

<p>suki_f &lt;- suki_hehe   / zansa_hehe</p>

<h1>=> 27.07912</h1>

<p>sougo_f  &lt;- sougo_hehe  / zansa_hehe</p>

<h1>=> 8.723077</h1>

<p>{% endcodeblock %}</p>

<h2>あとがき</h2>

<p>初心者が最初に統計学の世界を触れるときに是非読んで欲しい本。計算がわかりやすいので、理解しやすいです！個人的には統計を好きになれる本だと思う！</p>

<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>おねがい</h2>

<p>いろいろ初心者すぎてわけがわからない状態ですが、もしこういうふうにしたらいいとか、ツッコミ大歓迎です。もしよかったら是非コメントをお願いします！</p>

<h2>変更来歴</h2>

<p>(02/27 19:00) [無料Web教材] ハンバーガー統計学にようこそ！を追加<br/>
(03/22 09:45) 確認テストを中心に書き直し</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[「R Tips」で学ぶ R言語のプログラミング的Tips]]></title>
    <link href="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/"/>
    <updated>2014-03-22T10:50:00+09:00</updated>
    <id>http://morizyun.github.io/blog/R-tips-Grammer-PG-language</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4274067831/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4274067831&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4274067831&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4274067831" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />統計学やR言語を勉強していく過程で、R言語のプログラミング的な側面や言語仕様をちゃんと理解したいと思うようになりました。ということでチャンレンジしたのが、『<strong><a href="http://cse.naro.affrc.go.jp/takezawa/r-tips/r.html">R-Tips</a></strong>』です。</p>

<p>このサイトはいくつかのトピックに分かれているので、自分のRの使い方に合わせて勉強しやすくなっています。まだまだ前半戦ですが、特に覚えておきたいコマンドを中心にメモを書いていきます。</p>

<p><strong>(03/22 10:50) 回帰分析部分の説明を追記</strong><br/></p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h3>Rの便利なメソッド</h3>

<p>{% codeblock lang:bash %}
x &lt;- "1245"</p>

<h1>中身についての情報を取得</h1>

<p>str(x) #=> chr "1245"
summary(x)</p>

<h1>Length     Class      Mode</h1>

<h1>1 character character</h1>

<h1>基本的な情報</h1>

<p>y &lt;- c(2, 3, 4, 5)
summary(y)</p>

<h1>Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</h1>

<h1>2.00    2.75    3.50    3.50    4.25    5.00</h1>

<p>{% endcodeblock %}</p>

<h3>ベクトルの生成</h3>

<p>{% codeblock lang:bash %}</p>

<h1>aからbまでのベクトルを生成 => a:b</h1>

<p>1:10</p>

<h1>=> 1  2  3  4  5  6  7  8  9 10</h1>

<h1>(a, b)間をn等分するベクトルを生成 => seq(a, b, length = n)</h1>

<p>seq(1, 2, length = 10)</p>

<h1>1.000000 1.111111 1.222222 1.333333 1.444444</h1>

<h1>1.555556 1.666667 1.777778 1.888889 2.000000</h1>

<h1>aからbまでcずつ増加するベクトルを生成 => seq(a, b, by = c)</h1>

<p>seq(2, 15, by=3)</p>

<h1>=> 2  5  8 11 14</h1>

<h1>a:bをc回繰り返すベクトルを生成 => rep(a:b, times = c)</h1>

<p>rep(1:3, times = 2)</p>

<h1>=> 1 2 3 1 2 3</h1>

<h1>ベクトル内の値をユニークにする(重複した値を取り除く) => unique(x)</h1>

<p>unique(c(1,2,4,6,3,3,2,1))</p>

<h1>=> 1 2 4 6 3</h1>

<h1>0をn個並べたベクトルを生成</h1>

<p>numeric(5)</p>

<h1>=> 0 0 0 0 0</h1>

<p>x &lt;- 1:5</p>

<h1>要素の並びを逆順にする</h1>

<p>rev(x)</p>

<h1>=> 5 4 3 2 1</h1>

<p>y &lt;- 5:1</p>

<h1>要素の並び順を整列させる</h1>

<p>sort(y)</p>

<h1>=> 1 2 3 4 5</h1>

<p>{% endcodeblock %}</p>

<h3>ベクトル条件</h3>

<p>{% codeblock lang:bash %}</p>

<h1>どれか一つでも条件をみたすものがあるか？</h1>

<p>any(y > 4) #=> TRUE</p>

<h1>すべて条件をみたすか？</h1>

<p>all(y > 2) #=> FALSE</p>

<h1>NULLか否か</h1>

<p>is.null(NULL) #=> TRUE</p>

<h1>NA(データの欠損)か否か</h1>

<p>is.na(NA) #=> TRUE</p>

<h1>NaN(数では表せない)か否か</h1>

<p>is.nan(0/0) #=> TRUE</p>

<h1>有限か否か</h1>

<p>is.finite(1) #=> TRUE</p>

<h1>無限か否か</h1>

<p>is.infinite(1/0) #=> TRUE
{% endcodeblock %}</p>

<h3>ベクトルの中身</h3>

<p>{% codeblock lang:bash %}
x &lt;- 1:5</p>

<h1>2-4番目の要素</h1>

<p>x[2:4] #=> 2, 3, 4</p>

<h1>1, 4番目の要素以外を取り出す</h1>

<p>x[c(-1,-4)] #=> 2, 3, 5</p>

<h1>3より大きい要素を取り出す</h1>

<p>x[3 &lt; x] #=> 4, 5</p>

<h1>1より大きく、4より小さい要素を取り出す</h1>

<p>x[1 &lt; x &amp; x &lt; 4] #=> 2, 3</p>

<p>y &lt;- x * 2</p>

<h1>条件を満たす要素の番号を返す</h1>

<p>(1:length(y))[1 &lt; y &amp; y &lt; 8]</p>

<h1>=> 1, 2, 3</h1>

<p>{% endcodeblock %}</p>

<h3>日付</h3>

<p>{% codeblock lang:bash %}</p>

<h1>日付型に変換</h1>

<p>as.Date("2012/08/15")</p>

<h1>=> "2012-08-15"</h1>

<p>as.Date("20130222", format="%Y%m%d")</p>

<h1>=> "2013-02-22"</h1>

<h1>現在時刻を日付オブジェクトで取得</h1>

<p>today &lt;- Sys.Date()
now &lt;- Sys.time()</p>

<h1>日付の差分</h1>

<p>x &lt;- as.Date(c("2012/07/01", "2009/08/01"))
x[2] - x[1]</p>

<h1>=> Time difference of -1065 days</h1>

<p>{% endcodeblock %}</p>

<h3>文字列</h3>

<p>{% codeblock lang:bash %}</p>

<h1>文字列ベクトルの結合</h1>

<p>paste(month.abb, 1:8, c("st", "nd", "rd", rep("th",5)))</p>

<h1>"Jan 1 st" "Feb 2 nd" "Mar 3 rd" "Apr 4 th" "May 5 th" "Jun 6 th"</h1>

<h1>"Jul 7 th" "Aug 8 th" "Sep 1 st" "Oct 2 nd" "Nov 3 rd" "Dec 4 th"</h1>

<h1>文字列から特定の部分を切り出し</h1>

<p>substring("defghijklmnopqr", 3, 7)</p>

<h1>=> "fghij"</h1>

<p>{% endcodeblock %}</p>

<h3>データフレーム</h3>

<p>{% codeblock lang:bash %}</p>

<h1>データフレームの作成</h1>

<p>sex &lt;- c(rep("F", 3), rep("M", 1))
height &lt;- seq(150, 180, length=4)
weight &lt;- seq(70, 80, length=4)
df &lt;- data.frame(sex, height, weight)</p>

<h1>sex height   weight</h1>

<h1>1   F    150 70.00000</h1>

<h1>2   F    160 73.33333</h1>

<h1>3   F    170 76.66667</h1>

<h1>4   M    180 80.00000</h1>

<h1>データオブジェクトの行数を返す</h1>

<p>nrow(df) #=> 4</p>

<h1>summaryでデータフレームの要素の情報を表示</h1>

<p>summary(df)</p>

<h1>sex       height          weight</h1>

<h1>F:3   Min.   :150.0   Min.   :70.0</h1>

<h1>M:1   1st Qu.:157.5   1st Qu.:72.5</h1>

<h1>Median :165.0   Median :75.0</h1>

<h1>Mean   :165.0   Mean   :75.0</h1>

<h1>3rd Qu.:172.5   3rd Qu.:77.5</h1>

<h1>Max.   :180.0   Max.   :80.0</h1>

<h1>heightで降順に並べ直し</h1>

<p>sort_list &lt;- order(df$height,decreasing=T)
df[sort_list,]</p>

<h1>sex height   weight</h1>

<h1>4   M    180 80.00000</h1>

<h1>3   F    170 76.66667</h1>

<h1>2   F    160 73.33333</h1>

<h1>1   F    150 70.00000</h1>

<h1>typeカラムに条件に応じてBIG, MIDDLE, SMALL</h1>

<p>df$type <- ifelse(height >= 170, "BIG", ifelse(height>=160, "MIDDLE", "SMALL"))</p>

<h1>sex height   weight   type</h1>

<h1>1   F    150 70.00000  SMALL</h1>

<h1>2   F    160 73.33333 MIDDLE</h1>

<h1>3   F    170 76.66667    BIG</h1>

<h1>4   M    180 80.00000    BIG</h1>

<h1>一律でheight_mmカラムを追加</h1>

<p>transform(df, height_mm=df$height*100)</p>

<h1>sex height   weight   type height_mm</h1>

<h1>1   F    150 70.00000  SMALL     15000</h1>

<h1>2   F    160 73.33333 MIDDLE     16000</h1>

<h1>3   F    170 76.66667    BIG     17000</h1>

<h1>4   M    180 80.00000    BIG     18000</h1>

<h1>行番号を追加</h1>

<p>df$id &lt;- row.names(df)</p>

<h1>sex height   weight   type id</h1>

<h1>1   F    150 70.00000  SMALL  1</h1>

<h1>2   F    160 73.33333 MIDDLE  2</h1>

<h1>3   F    170 76.66667    BIG  3</h1>

<h1>4   M    180 80.00000    BIG  4</h1>

<h1>行方向の結合</h1>

<p>cbind(df, df)</p>

<h1>sex height   weight   type id sex height   weight   type id</h1>

<h1>1   F    150 70.00000  SMALL  1   F    150 70.00000  SMALL  1</h1>

<h1>2   F    160 73.33333 MIDDLE  2   F    160 73.33333 MIDDLE  2</h1>

<h1>3   F    170 76.66667    BIG  3   F    170 76.66667    BIG  3</h1>

<h1>4   M    180 80.00000    BIG  4   M    180 80.00000    BIG  4</h1>

<h1>列方向の結合</h1>

<p>rbind(df, df)</p>

<h1>sex height   weight   type id</h1>

<h1>1   F    150 70.00000  SMALL  1</h1>

<h1>2   F    160 73.33333 MIDDLE  2</h1>

<h1>3   F    170 76.66667    BIG  3</h1>

<h1>4   M    180 80.00000    BIG  4</h1>

<h1>5   F    150 70.00000  SMALL  1</h1>

<h1>6   F    160 73.33333 MIDDLE  2</h1>

<h1>7   F    170 76.66667    BIG  3</h1>

<h1>8   M    180 80.00000    BIG  4</h1>

<p>{% endcodeblock %}</p>

<h2>サンプルデータセット</h2>

<p>Rで勉強していく上で、避けて通れないのがサンプルデータの確保です。Rにはデフォルトで複数のデータセットが格納されています。『<strong><a href="http://d.hatena.ne.jp/hoxo_m/20120214/p1">統計を学びたい人へ贈る、統計解析に使えるデータセットまとめ</a></strong>』に初心者におすすめなデータがまとめられています！</p>

<h2>データセットを使った集計・グラフ表示</h2>

<p>デフォルトのデータセットのあやめのデータ(iris)を使って、いくつかサンプルを書いていきます。</p>

<p>{% codeblock lang:bash %}</p>

<h1>irisはあやめのデータ・セット</h1>

<p>width_set <- iris[,c("Sepal.Length", "Petal.Length", "Species")]
width_large <- width_set[width_set$Species == "versicolor",]
mean(width_large$Petal.Length) #=> 4.26</p>

<h1>plyrパッケージの導入</h1>

<h1>plyr : データフレームの加工をしやすくするパッケージ</h1>

<p>install.packages("plyr")
library("plyr")</p>

<h1>irisのデータからSpeciesをキーにSepal.Length(がくの長さ)の平均を出す</h1>

<p>data &lt;- ddply(iris, .(Species), summarise, Sepal.Length.Average=mean(Sepal.Length))</p>

<h1>Species Sepal.Length.Average</h1>

<h1>1     setosa                5.006</h1>

<h1>2 versicolor                5.936</h1>

<h1>3  virginica                6.588</h1>

<h1>Sepal.Length(がくの長さ)の平均順でならべ直す</h1>

<p>arrange(data, desc(Sepal.Length.Average))</p>

<h1>Species Sepal.Length.Average</h1>

<h1>1  virginica                6.588</h1>

<h1>2 versicolor                5.936</h1>

<h1>3     setosa                5.006</h1>

<h1>棒グラフ</h1>

<h1>棒グラフは「月ごとの販売実績」のように書くカテゴリの度数や比率を表示するために利用する</h1>

<p>index <- iris$Sepal.Length > 5.5
dat &lt;- iris[index,]
xtabs(~Species, data=dat, drop.unused.levels=T)</p>

<h1>Species</h1>

<h1>setosa versicolor  virginica</h1>

<h1>3         39         49</h1>

<p>qplot(Species, data=dat, geom="bar")
{% endcodeblock %}</p>

<p><img src="http://farm8.staticflickr.com/7298/13000340725_82a36b0b98.jpg" width="413" height="439" alt="Rplot01"></p>

<p>{% codeblock lang:bash %}</p>

<h1>ヒストグラム</h1>

<h1>身長・成績・人口などのように連続量のデータの度数(割合)を表示する</h1>

<p>qplot(Sepal.Length, data=iris, geom="histogram", binwidth=0.5, xlim=c(4,8))
{% endcodeblock %}</p>

<p><img src="http://farm3.staticflickr.com/2581/13000752024_5542498537.jpg" width="413" height="439" alt="Rplot"></p>

<p>{% codeblock lang:bash %}</p>

<h1>箱ひげ図</h1>

<h1>カテゴリごとの中央値、箱、ヒゲ、外れ値を表示。ヒストグラムの簡略版</h1>

<h1>1つが複数カテゴリのデータ、もう一つが連続量の場合に用いる</h1>

<p>qplot(Species, Sepal.Length, data=iris, geom="boxplot")
{% endcodeblock %}</p>

<p><img src="http://farm4.staticflickr.com/3671/13000403615_dc98e591a0.jpg" width="413" height="439" alt="Rplot02"></p>

<p>{% codeblock lang:bash %}</p>

<h1>散布図</h1>

<h1>2つの変数の値に従って座標平面上に複数の点を表示</h1>

<h1>2つの変数がともに連続量の場合に用いる</h1>

<p>index &lt;- iris$Species != 'virginica'
dat &lt;- iris[index,]
qplot(Sepal.Length, Petal.Length, data=iris, geom=c("point", "smooth"), color=Species)
{% endcodeblock %}</p>

<p><img src="http://farm8.staticflickr.com/7353/13000607723_53c89f2449.jpg" width="413" height="439" alt="Rplot03"></p>

<h2>サンプルデータを使った単回帰分析</h2>

<p>サンプルデータを知らなすぎて、あまり適切な分析ではないですが、手元にある範囲内で。</p>

<h3>キーワード</h3>

<pre>
独立変数: 原因となる変数
従属変数: 性質を明らかにしたい側の変数
単回帰分析: 独立変数が1つの分析
重回帰分析: 独立変数が2つ以上の分析
</pre>


<p>{% codeblock lang:bash %}</p>

<h1>データ・セットを使った回帰分析のサンプル</h1>

<p>library(ggplot2)
qplot(Petal.Length, data=dat, geom="histogram", bandwith=0.5, xlim=c(3,6))
{% endcodeblock %}</p>

<p><img src="http://farm8.staticflickr.com/7044/13155728714_9b43830cb0_o.png" /></p>

<p>{% codeblock lang:bash %}
index &lt;- iris$Species == 'versicolor'
dat &lt;- iris[index,]
result &lt;- glm(Sepal.Length~Petal.Length, data=dat, family=gaussian)
summary(result)</p>

<h1>glm(formula = Sepal.Length ~ Petal.Length, family = gaussian,</h1>

<h1>data = dat)</h1>

<h1></h1>

<h1>Deviance Residuals:</h1>

<h1>Min        1Q    Median        3Q       Max</h1>

<h1>-0.73479  -0.20272  -0.02065   0.26092   0.69956</h1>

<h1></h1>

<h1>Coefficients:</h1>

<h1>Estimate Std. Error t value Pr(>|t|)</h1>

<h1>(Intercept)    2.4075     0.4463   5.395 2.08e-06 ***</h1>

<h1>Petal.Length   0.8283     0.1041   7.954 2.59e-10 ***</h1>

<h1>---</h1>

<h1>Signif. codes:  0 ‘<em><strong>’ 0.001 ‘</strong>’ 0.01 ‘</em>’ 0.05 ‘.’ 0.1 ‘ ’ 1</h1>

<h1></h1>

<h1>(Dispersion parameter for gaussian family taken to be 0.1173364)</h1>

<h1></h1>

<h1>Null deviance: 13.0552  on 49  degrees of freedom</h1>

<h1>Residual deviance:  5.6321  on 48  degrees of freedom</h1>

<h1>AIC: 38.717</h1>

<h1></h1>

<h1>Number of Fisher Scoring iterations: 2</h1>

<h1>=> 回帰式 y = ax + bで a = 2.4075, b = 0.8283</h1>

<h1>=> Coefficientsの最後が信頼度。'***'なので高い</h1>

<p>{% endcodeblock %}</p>

<h2>適切な回帰分析式の比較</h2>

<h3>AIC : 赤池情報量規準</h3>

<p>統計モデルの良さを評価するための指標。</p>

<h3>統計モデルの比較</h3>

<p>こちらも素人のトライなので、ツッコミお待ちしております！</p>

<p>{% codeblock lang:bash %}
library(ggplot2)</p>

<h1>単純にヒストグラムでプロット</h1>

<p>qplot(Volume, data=trees, geom="histogram", bandwith=5, xlim=c(10,80))
{% endcodeblock %}</p>

<p><img src="http://farm3.staticflickr.com/2741/13155614675_20ae60951c.jpg" width="413" height="439" alt="Rplot"></p>

<p>{% codeblock lang:bash %}</p>

<h1>対数をとってヒストグラムでプロット</h1>

<p>qplot(log(Volume), data=trees, geom="histogram", bandwith=0.2, xlim=c(2,5))
{% endcodeblock %}</p>

<p><img src="http://farm8.staticflickr.com/7146/13156766444_35d1a2b410.jpg" width="413" height="439" alt="Rplot02"></p>

<p>本来は正規分布に従いそうなデータですが、サンプルデータを目視する限りは対数正規分布に近そう。</p>

<p>{% codeblock lang:bash %}
result &lt;- glm(Volume~Girth, data = trees, family=gaussian)
summary(result)</p>

<h1>(Intercept) -36.9435     3.3651  -10.98 7.62e-12 ***</h1>

<h1>Girth         5.0659     0.2474   20.48  &lt; 2e-16 ***</h1>

<h1>AIC: 181.64</h1>

<p>result &lt;- glm(Volume~Girth, data = trees, family=gaussian(link="log"))
summary(result)</p>

<h1>(Intercept) 1.340516   0.097224   13.79 2.89e-14 ***</h1>

<h1>Girth       0.147910   0.005839   25.33  &lt; 2e-16 ***</h1>

<h1>AIC: 169.14</h1>

<p>result &lt;- glm(Volume~(Girth+Height), data = trees, family=gaussian)
summary(result)</p>

<h1>(Intercept) -57.9877     8.6382  -6.713 2.75e-07 ***</h1>

<h1>Girth         4.7082     0.2643  17.816  &lt; 2e-16 ***</h1>

<h1>Height        0.3393     0.1302   2.607   0.0145 *</h1>

<h1>AIC: 176.91</h1>

<p>result &lt;- glm(Volume~(Girth+Height), data = trees, family=gaussian(link="log"))
summary(result)</p>

<h1>(Intercept) 0.679294   0.258124   2.632  0.01366 *</h1>

<h1>Girth       0.134163   0.006845  19.601  &lt; 2e-16 ***</h1>

<h1>Height      0.011144   0.003975   2.804  0.00907 **</h1>

<h1>AIC: 163.37</h1>

<h1>=> 上記4つのAIC(赤池情報量規準)からみると一番最後の回帰式(対数正規分布で独立変数にGirth, Heightをとる)が最も近い</h1>

<p>{% endcodeblock %}</p>

<h2>ポワソン回帰</h2>

<p>ポワソン回帰は離散値かつ、ゼロ以上の範囲のデータを扱うときに利用する。<br/></p>

<p>適切なデータでないんで、雰囲気だけメモ。</p>

<p>{% codeblock lang:bash %}
dat &lt;- InsectSprays
qplot(count, data=dat, geom="histogram", bandwith=1, xlim=c(0,30))
{% endcodeblock %}</p>

<p><img src="http://farm4.staticflickr.com/3680/13319567853_70a00eccfc.jpg" width="413" height="439" alt="Rplot04"></p>

<p>{% codeblock lang:bash %}
result &lt;- glm(count~spray, data=dat, family=poisson(link="log"))
summary(result)</p>

<h1>(Intercept)  2.67415    0.07581  35.274  &lt; 2e-16 ***</h1>

<h1>sprayB       0.05588    0.10574   0.528    0.597</h1>

<h1>sprayC      -1.94018    0.21389  -9.071  &lt; 2e-16 ***</h1>

<h1>sprayD      -1.08152    0.15065  -7.179 7.03e-13 ***</h1>

<h1>sprayE      -1.42139    0.17192  -8.268  &lt; 2e-16 ***</h1>

<h1>sprayF       0.13926    0.10367   1.343    0.179</h1>

<h1>AIC: 376.59</h1>

<p>{% endcodeblock %}</p>

<h2>独立変数の最適化</h2>

<p>複数の独立変数から、Rが効率的なアルゴリズムで自動的にモデル選択をする方法。</p>

<p>適切なサンプルデータで後でリトライする予定。。。</p>

<p>{% codeblock lang:bash %}</p>

<h1>独立変数の最適化</h1>

<p>dat &lt;- iris
result &lt;- glm(Petal.Width~Sepal.Length+Sepal.Width+Petal.Length, data = dat, family=gaussian(link="log"))
step(result, direction="backward")</p>

<h1>Start:  AIC=19.47</h1>

<h1>Petal.Width ~ Sepal.Length + Sepal.Width + Petal.Length</h1>

<h1></h1>

<h1>Df Deviance     AIC</h1>

<h1>- Sepal.Width   1    9.472  19.337</h1>

<h1><none>               9.355  19.469</h1>

<h1>- Sepal.Length  1   12.225  57.615</h1>

<h1>- Petal.Length  1   33.293 207.890</h1>

<h1></h1>

<h1>Step:  AIC=19.34</h1>

<h1>Petal.Width ~ Sepal.Length + Petal.Length</h1>

<h1></h1>

<h1>Df Deviance     AIC</h1>

<h1><none>               9.472  19.337</h1>

<h1>- Sepal.Length  1   12.371  57.394</h1>

<h1>- Petal.Length  1   38.191 226.476</h1>

<h1></h1>

<h1>Call:  glm(formula = Petal.Width ~ Sepal.Length + Petal.Length, family = gaussian(link = "log"),</h1>

<h1>data = dat)</h1>

<h1></h1>

<h1>Coefficients:</h1>

<h1>(Intercept)  Sepal.Length  Petal.Length</h1>

<h1>-0.3528       -0.2442        0.4752</h1>

<h1></h1>

<h1>Degrees of Freedom: 149 Total (i.e. Null);  147 Residual</h1>

<h1>Null Deviance:      86.57</h1>

<h1>Residual Deviance: 9.472  AIC: 19.34</h1>

<p>#</p>

<h1>=> 以上より、Petal.Width = -0.2442<em>Sepal.Length + 0.4752</em>Petal.Length + -0.3528 がAICでベスト</h1>

<p>{% endcodeblock %}</p>

<h2>ユークリッド距離を使ったクラスタリング</h2>

<p>ユークリッド距離や重心の概念を使ってクラスタリングを行う。</p>

<p>Rに難儀しているので、とりあえず暫定で出来たところまで。使い方を覚えたらちゃんと直したい！</p>

<p>{% codeblock lang:bash %}
library("plyr")
dat &lt;- InsectSprays
dat2 &lt;- ddply(dat, .(spray), summarise, count_ave=mean(count))
distw &lt;- dist(dat2, method="euclidean")
clust &lt;- hclust(distw, method="ward")
plclust(clust, hang=-1, xlab="spray", ylab="count")
{% endcodeblock %}</p>

<p><img src="http://farm4.staticflickr.com/3715/13157567135_d51493c391.jpg" width="413" height="439" alt="Rplot03"></p>

<h2>Special Thanks</h2>

<p><strong><a href="http://www.slideshare.net/teramonagi/tokyo-r30-20130420">「plyrパッケージで君も前処理スタ☆」改め「plyrパッケージ徹底入門」</a></strong><br/>
第30回R勉強会＠東京(#TokyoR)の資料</p>

<h2>あとで読む</h2>

<p><strong><a href="http://matome.naver.jp/odai/2134709644082692701">統計・機械学習・データマイニングの無料で読めるPDF資料</a></strong><br/></p>

<blockquote>
オンラインで無料公開されている書籍等のPDF資料をまとめ。
</blockquote>


<p><strong><a href="http://www.r.dl.itc.u-tokyo.ac.jp/node/33">統計的機械学習 | 中川研究室</a></strong><br/></p>

<blockquote>
統計的機械学習とは、観測されたデータから統計的手法を用い新たな知識を導出すること。 統計的機械学習には種々の分類がある、この説明。
</blockquote>


<p><strong><a href="http://www.slideshare.net/pfi/deep-learning-22350063">一般向けのDeep Learning</a></strong><br/></p>

<blockquote>
PFI 全体セミナーで発表した、専門家向けではなく一般向けのDeep Learning（深層学習）の解説です。どのような場面で活躍しているのか、今までの学習手法と何が違うのかを解説しています。
</blockquote>


<p><strong><a href="http://www.toukei-kentei.jp/index.html">統計検定：Japan Statistical Society Certificate</a></strong><br/></p>

<blockquote>
「統計検定」とは、統計に関する知識や活用力を評価する全国統一試験です。 データに基づいて客観的に判断し、科学的に問題を解決する能力は、仕事や研究をするための21世紀型スキルとして国際社会で広く認められています。
</blockquote>


<p><strong><a href="http://gci.t.u-tokyo.ac.jp/tutorial/">チュートリアル | グローバル消費インテリジェンス寄附講座</a></strong><br/></p>

<blockquote>
GCI チュートリアル (Global Consumer Intelligence Tutorial) は、東京大学工学部 松尾豊研究室とグローバル消費インテリジェンス寄附講座の学生のためのチュートリアルです。ウェブと人工知能を活かした研究を行うために必要な技能を身に付けることを目的としています。
</blockquote>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>変更来歴</h2>

<p>(03/15 10:45) 回帰に関する記述を追記<br/>
(03/21 17:25) データ・フレームを追記<br/>
(03/22 10:50) 回帰分析部分の説明を追記<br/></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[「統計学が最強の学問である」で学ぶ 統計学で見える新しい世界]]></title>
    <link href="http://morizyun.github.io/blog/statistics-is-best-knowledge-book-review/"/>
    <updated>2014-03-09T18:50:00+09:00</updated>
    <id>http://morizyun.github.io/blog/statistics-is-best-knowledge-book-review</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4478022216/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4478022216&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4478022216&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4478022216" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />少しずつ統計学を勉強していく中で「統計学で学んだこと」を少しでも実践で生かせるようなマインドを養いたかったので、『<strong><a href="http://www.amazon.co.jp/gp/product/4478022216/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4478022216&amp;linkCode=as2&amp;tag=morizyun00-22">統計学が最強の学問である</a></strong>』を読み始めました。</p>

<p>この記事ではこの本の中で特に参考になった点を中心にマトメていきます！</p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>マイクロソフトのBlogでアツい3つの専門性</h2>

<pre>
* データマイニング、機械学習、人工知能、自然言語処理
* ビジネスインテリジェンス、競合分析
* 分析、統計、特にウェブ分析、A/Bテスト、統計解析
</pre>


<h2>データをビジネスで使うための「3つの問い」</h2>

<pre>
問1) 何かの要因が変化すれば利益が向上するのか？
問2) そうした変化を起こすような行動は実際に可能か？
問3) 変化を起こす行動が可能だとしてそのコストは利益を上回るのか？
</pre>


<h2>データから適切な判断ポイントを見つけるために重要な点</h2>

<pre>
1) 適切な比較を行うこと
2) ただの集計ではなくその誤差とp値について明らかにすること
</pre>


<h2>統計学における「ランダム化」の可能性と課題</h2>

<pre>
# ランダム化の利点
* 統計的な裏付けがないのに、「正しい」と決め付けるのは間違い
* 統計的な裏付けがないのに、「間違い」と決めつけるのも間違い
* 正解がないのであればとりあえずランダムに試すのにも価値がある

# ランダム化の欠点
絶対的なサンプル数の制限 => サンプル数が少なすぎると統計学は無意味
現実は条件を制御できない => 条件を満たすことが困難な場合統計学が脆い
倫理的な問題 => 有害性や不公平などの倫理も現実にはとても重要
不公平や劣等感が感情を逆なでする => 社会に対して不信感を与えない
</pre>


<h2>回帰分析について</h2>

<pre>
# 回帰分析とは？
データ間の関係性を記述する、もしくは一方のデータから他方のデータを予測する数式を推定

# 回帰分析で注意すべき点
ばらつきをもつ現象に対する理論的な予測はそれほどうまくいかない

# 統計学ができること
サンプルの統計量から、真値の信頼度を測る

# 重回帰分析とは？
予測したい結果に影響する要因が複数ある状況へ拡張された回帰分析

# 重回帰分析で注意すべき点
重回帰分析では、2つの説明変数を掛けあわせた新しい説明変数(相互作用項)にも注意が必要

# 回帰モデルの妥当性
=> AIC(赤池情報量基準)
=> 傾向スコア: 興味のある二値の説明変数についてどちらに該当するかという確率
</pre>


<h2>統計学における6つの分野</h2>

<pre>
1) 実態把握を行う社会学調査法
=> 可能な限り偏りを減らして、求める誤差に収まる推定値を効率よく算出する

2) 原因究明のための疫学・生物統計学
=> 原因を見つけることに重視。母集団への当てはまりにはこだわらない

3) 抽象的なものを測定する心理統計学
=> いくつかの測定方法から相関性を出して、数値化したのが知能指数(IQ)

4) 機械的分類のためのデータマイニング
=> マーケティングを目的にクラスタ分析や相関を調べる。ニューラル・ネットワークやサポートベクターマシンなどのような機械学習は、予測に役立つデータマイニングのための手法

5) 自然言語処理のためのテキストマイニング
=> 大量のテキストデータから目的にマッチしたデータを抽出・集計する。形態素解析として辞書を使うMeCabや辞書を使わずに重複する単語を探しだすN-Gramなどがある

6) 演繹に感心を寄せる数量経済学
=>経済学分野で統計学を用いる。相互作用を含む説明変数の選択について慎重な検討を行う

番外) 確率に対する考え方の違うベイズ派
=> 事前確率と事後確率を使う。限られた情報と仮定を組み合わせることで、迅速に答えを出す。
</pre>


<h2>先人たちの知識をフル動員する</h2>

<p>エビデンスが重要 : 統計的レビュー、メタアナリシス。Google Scholarなどで検索可能。この先人たちの知恵をフル動員することで、「最善」にコントロールすることが重要。</p>

<h2>覚えておきたいキーワード</h2>

<pre>
最小で十分なサンプル : 正しい判断に不必要な精度を求める必要はない
χ2乗検定 : 「意味のある偏り」、「誤差」のどちらかを確かめる手法
p値 : 誤差や偶然によってたまたま差が出る確率
真値 : 無制限にデータを集めればわかる本当に知りたい値
標準誤差 : 推定値の誤差の大きさ。
</pre>


<p>{% include custom/google_ads_yoko_naga.html %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[統計解析 & R言語 超初心者入門資料まとめ]]></title>
    <link href="http://morizyun.github.io/blog/statistics-analysis-bigginer-r/"/>
    <updated>2014-02-23T11:00:00+09:00</updated>
    <id>http://morizyun.github.io/blog/statistics-analysis-bigginer-r</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4873116155/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4873116155&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4873116155&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4873116155" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />興味を持ち続けていた統計解析や、R言語の勉強をはじめました！まだまだ初歩の初歩ですが、この記事がいつか偉大な一歩になれるように頑張っていく所存ですw</p>

<p>まずは、R言語や統計解析に関する入門記事や、モチベーションがアップしそうな記事をまとめていきます！</p>

<p><strong>(02/23 11:00) 初学者の人におすすめな資料にフォーカスしてまとめ直し</strong></p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>[スライド] 統計学入門</h2>

<iframe src="http://www.slideshare.net/slideshow/embed_code/5349634" width="597" height="486" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;" allowfullscreen></iframe>


<p>統計学の全体像をつかむのに最適なスライドです。初歩。。。とはちょっと呼べないくらい内容が深いです！</p>

<h2>[スライド] はじめての「R」</h2>

<iframe src="http://www.slideshare.net/slideshow/embed_code/15432969" width="597" height="486" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/m884/japan-r-15432969" title="はじめての「R」" target="_blank">はじめての「R」</a> </strong> from <strong><a href="http://www.slideshare.net/m884" target="_blank">Masahiro Hayashi</a></strong> </div></p>

<p>統計解析を始めるときにWindowsな方も、Macな方もとっつきやすのが『<strong><a href="http://www.r-project.org/">R</a></strong>』です。このRを完全初心者をターゲットに説明をして頂けている資料です。超わかりやすいです！</p>

<h2>[デスクトップアプリ] R用のIDE: RStudio</h2>

<p><strong><a href="http://www.rstudio.com/ide/download/desktop">RStudio</a></strong><br/>
RStudioはR言語用のIDEです。Window、Mac、Linuxに対応したフリーのオープンソース・ソフトです。</p>

<h2>[CUI] Mac コマンドラインのRインストール手順</h2>

<p>パッケージ版もありますが、コマンドライン版のRをインストールする手順を紹介します。</p>

<p>まず『<strong><a href="https://xquartz.macosforge.org/landing/">XQuartz</a></strong>』からXQuartzのパッケージをDL&amp;インストールします。ちなみにこの<strong>XQuartz</strong>はX Window SystemをMacで動くようにするためのものです。</p>

<p>{% codeblock lang:bash %}</p>

<h1>Homebrewをupdate</h1>

<p>brew update</p>

<h1>コンパイラ gfortranのインストール</h1>

<p>brew install gfortran</p>

<h1>フォーミュラをhomebrewの中に取り込む</h1>

<p>brew tap homebrew/science</p>

<h1>Rのインストール</h1>

<p>brew install R</p>

<h1>Rの起動</h1>

<p>R</p>

<h1>Rを終了するためのコマンド</h1>

<p>q()
{% endcodeblock %}</p>

<h2>[Web] とある弁当屋の統計技師</h2>

<p><a href="http://rmecab.jp/ranko/chap1.html"><img title="とある弁当屋の統計技師（データサイエンティスト）" src="http://capture.heartrails.com/400x300/cool/1392461821673?http://rmecab.jp/ranko/chap1.html" alt="http://rmecab.jp/ranko/chap1.html" width="400" height="300" /></a></p>

<p>こちらはRの導入から始まって基本的な使い方のチュートリアルまでをかなり細かく解説をしてくれています。導入の時には一番オススメなサイトです！</p>

<h2>[Web・英語] Code School Try R</h2>

<p><strong><a href="http://tryr.codeschool.com/levels/1/challenges/3">Code School Try R</a></strong><br/>
インタラクティブにRを学ぶことができるサイト。唯一日本語に対応していないのが残念。</p>

<h2>[書籍] Rによるやさしい統計学</h2>

<p><a href="http://www.amazon.co.jp/gp/product/4274067106/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4274067106&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4274067106&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4274067106" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />これは最近購入して読み進めている『<strong><a href="http://www.amazon.co.jp/gp/product/4274067106/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4274067106&amp;linkCode=as2&amp;tag=morizyun00-22">Rによる統計解析</a></strong>』です。まだ前半戦の状態ですが、基本的には難しい数式ではなく、Rを使いながら基本的な統計の用語を学んでいけるので、初学者の人で数式の書かれた本が読めない僕のような人に超おすすめな本です。僕はあとは統計学の漫画系の書籍を買えるだけ買ってみました！そちらもおいおいレポートしていきます＾＾</p>

<br style="clear:both;"/>


<p>ここに書いていた書籍の中のメモ書きは増えてきたので『<strong><a href="/blog/easy-R-statistics-book-review/">「Rによるやさしい統計学」で学ぶ R言語と統計学の基礎徹底解説</a></strong>』に移動しました！</p>

<h2>[Web] R-Tips : Rの基本的なコマンドの使い方がわかる</h2>

<p><a href="http://cse.naro.affrc.go.jp/takezawa/r-tips/r.html"><img title="R-Tips" src="http://capture.heartrails.com/400x300/cool?http://cse.naro.affrc.go.jp/takezawa/r-tips/r.html" alt="http://cse.naro.affrc.go.jp/takezawa/r-tips/r.html" width="400" height="300" /></a></p>

<p>Rをプログラミング言語の側面で特に覚えておくべきことをわかりやすく項目別にまとめてくれています。</p>

<h2>[Web] R Markdownのシェアサイト</h2>

<p><strong><a href="http://rpubs.com/">RPubs</a></strong><br/>
RStudio用のプラグイン R Markdown形式で書かれた情報をシェアできるサイト。なかなか面白う！</p>

<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>Speical Thanks</h2>

<p><strong><a href="http://qiita.com/dkkoma/items/8b45ce94c2c5d89d567f">MacOSX に homebrew で R をインストール - Qiita</a></strong></p>

<p><strong><a href="http://statsguild.blog102.fc2.com/blog-entry-4.html">新人OLのはじめての統計 質的変数・量的変数とはなんぞや？</a></strong></p>

<h2>変更来歴</h2>

<p>(02/23 11:00) 初学者の人におすすめな資料にフォーカスしてまとめ直し<br/></p>
]]></content>
  </entry>
  
</feed>
