<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: tcp | 酒と泪とRubyとRailsと]]></title>
  <link href="http://morizyun.github.io/blog/categories/tcp/atom.xml" rel="self"/>
  <link href="http://morizyun.github.io/"/>
  <updated>2015-12-30T20:26:52+09:00</updated>
  <id>http://morizyun.github.io/</id>
  <author>
    <name><![CDATA[morizyun]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[telnetを使ってTCP/IPで通信をする]]></title>
    <link href="http://morizyun.github.io/blog/telnet-tcp-ip-web-mail/"/>
    <updated>2014-08-13T18:45:00+09:00</updated>
    <id>http://morizyun.github.io/blog/telnet-tcp-ip-web-mail</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4797321946/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4797321946&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4797321946&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4797321946" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />Telnetを使ってTCP/IPの通信を行う例題です。WebサイトやMailへのアクセスもtelnetを使って簡単にテストすることができます。</p>

<p>この実験を通して、WebブラウザとWebサーバとの間でどのように通信が行われているのかを知ることができます。</p>

<!-- more -->


<br style="clear:both;"/>


<p>{% include custom/google_ads_yoko_naga.html %}</p>

<h2>telnetとは？</h2>

<p>インターネットなどのTCP/IPネットワークで、ネットワークにつながれたコンピュータを遠隔操作をおこなうための通信方式。データを平文で送信するため、セキュリティ上の懸念があり、現在はSSHがその役割を担っている。</p>

<h2>telnetを使ってWebサイトの情報を取得</h2>

<p>telnetを使ってICP/IPの通信を行うことができるので、webサイトからhtmlを取得することも簡単にできます。例えば、<code>www.yahoo.co.jp</code>からhtmlを取得する場合は次のようにターミナルを実行するだけです。</p>

<p>{% codeblock lang:bash %}
telnet www.yahoo.co.jp 80
GET / HTTP/1.0[Enter]
Host: www.yahoo.co.jp[Enter]
[Enter]
{% endcodeblock %}</p>

<p>すると出力結果は次のようになります。</p>

<p>{% codeblock lang:bash %}
HTTP/1.1 200 OK
Server: nginx
Date: Sat, 21 Jun 2014 21:22:07 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
P3P: policyref="http://privacy.yahoo.co.jp/w3c/p3p_jp.xml", CP="CAO DSP COR CUR ADM DEV TAI PSA PSD IVAi IVDi CONi TELo OTPi OUR DELi SAMi OTRi UNRi PUBi IND PHY ONL UNI PUR FIN COM NAV INT DEM CNT STA POL HEA PRE GOV"
Cache-Control: private, no-cache, no-store, must-revalidate
Expires: -1
Pragma: no-cache
X-XRDS-Location: https://open.login.yahooapis.jp/openid20/www.yahoo.co.jp/xrds
Vary: Accept-Encoding</p>

<p>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
....
</html>
{% endcodeblock %}</p>

<p>telnetからでもHTMLが取得できている事がわかります。</p>

<h2>telnetを使ってGmailを送信</h2>

<p>次にtelnetを使ってメールを送信してみます。</p>

<p>まずは、gmailのメールサーバを検索します。</p>

<p>{% codeblock lang:bash %}
nslookup -type=mx gmail.com                                                    Server:   10.0.1.1
Address:  10.0.1.1#53</p>

<p>Non-authoritative answer:
gmail.com mail exchanger = 30 alt3.gmail-smtp-in.l.google.com.
gmail.com mail exchanger = 40 alt4.gmail-smtp-in.l.google.com.
gmail.com mail exchanger = 5 gmail-smtp-in.l.google.com.
gmail.com mail exchanger = 10 alt1.gmail-smtp-in.l.google.com.
gmail.com mail exchanger = 20 alt2.gmail-smtp-in.l.google.com.
{% endcodeblock %}</p>

<p>複数のドメインが優先順位をつけて登録されていることがわかります。</p>

<p>今回は<code>gmail.com  mail exchanger = 5 gmail-smtp-in.l.google.com.</code>を使って、通信を行ってみます。</p>

<p>{% codeblock lang:bash %}
telnet gmail-smtp-in.l.google.com 25
{% endcodeblock %}</p>

<p>ですが残念ながら僕の環境ではtelnetで接続できるmailサーバを発見できずorz</p>

<p><strong><a href="http://www.ideaxidea.com/archives/2008/04/telnet.html">telnetを使ってメールのテストを行う方法</a></strong></p>

<p><strong><a href="http://mojavy.com/blog/2013/02/23/telnet-smtp/">telnetでメールを送信する方法</a></strong></p>

<p>このあたりを見ながら、できるような気持ちになっておきますw</p>

<h2>あとがき</h2>

<p>実際にはtelnetもTCP/IPのコネクションを行うための処理は隠蔽してくれているため、本当意味でのローレベルではないですが、擬似的にWebブラウザやメールアプリの通信を勉強できます。</p>

<p>{% include custom/google_ads_yoko_naga.html %}</p>
]]></content>
  </entry>
  
</feed>
